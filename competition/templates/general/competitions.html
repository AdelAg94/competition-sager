{% extends "general/base.html" %}
{% block title %}
{{page_title}}
{% endblock %}

{% block style %}
{% include 'css/comp-css.html' %}
{% endblock %}

{% block content %}

<div class="unenrolled-compts">
{% for compt in notenrolled %}
<div class="p-3"  compt_id="{{compt.id}}">
  <article class="recipe bg-white">
   <div class="pizza-box">
     <img src="/media/{{compt.photo}}" width="200" height="300" alt="">
   </div>
   <div class="recipe-content ">
     <!-- <p class="recipe-tags">
       <span class="recipe-tag">Gluten Free</span>
       <span class="recipe-tag">Main dish</span>
     </p> -->

     <h1 class="recipe-title"><a href="#">{{compt.name}}</a></h1>
    <!-- 
     <p class="recipe-metadata">
       <span class="recipe-rating">★★★★<span>☆</span></span>
       <span class="recipe-votes">(12 votes)</span>
     </p> -->
    <br>
     <p class="recipe-desc"> 
      <span style="color: #e6d200; font-weight: bold;">Description: </span> {{compt.description}}
      </p>
     <p class="recipe-desc">
       <span style="color: #e6d200; font-weight: bold;">Qualifications:</span>
       <ol>
       {% for item in compt.quali %}
        <li>{{item}}</li> 
       {% endfor %}
      </ol>
      </p>

     <button class="recipe-save bg-transparent notenrolled" compt_id="{{compt.id}}" type="button">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-save2-fill" viewBox="0 0 16 16">
        <path d="M8.5 1.5A1.5 1.5 0 0 1 10 0h4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h6c-.314.418-.5.937-.5 1.5v6h-2a.5.5 0 0 0-.354.854l2.5 2.5a.5.5 0 0 0 .708 0l2.5-2.5A.5.5 0 0 0 10.5 7.5h-2v-6z"/>
      </svg>
       Enroll
     </button>

   </div>
 </article>
</div>
{% endfor %}
</div>
<div class="enrolled-compts">
{% for compt in enrolled %}
<div class="p-3">
  <article class="recipe bg-white">
   <div class="pizza-box">
     <img src="/media/{{compt.photo}}" width="200" height="300" alt="">
   </div>
   <div class="recipe-content ">
     <!-- <p class="recipe-tags">
       <span class="recipe-tag">Gluten Free</span>
       <span class="recipe-tag">Main dish</span>
     </p> -->

     <h1 class="recipe-title"><a href="#">{{compt.name}}</a></h1>
    <!-- 
     <p class="recipe-metadata">
       <span class="recipe-rating">★★★★<span>☆</span></span>
       <span class="recipe-votes">(12 votes)</span>
     </p> -->
    <br>
     <p class="recipe-desc"> 
      <span style="color: #e6d200; font-weight: bold;">Description: </span> {{compt.description}}
      </p>
     <p class="recipe-desc">
       <span style="color: #e6d200; font-weight: bold;">Qualifications:</span>
       <ol>
       {% for item in compt.quali %}
        <li>{{item}}</li> 
       {% endfor %}
      </ol>
      </p>

     <button class="recipe-save bg-info enrolled" compt_id="{{compt.id}}" type="button">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
      </svg>
       Enrolled
     </button>

   </div>
 </article>
</div>
{% endfor %}
</div>

<!-- Modal -->
<div class="modal fade" id="leave-modal" tabindex="-1" role="dialog" aria-labelledby="leave-modal-label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="leave-modal-label">Confirmation</h5>
        <button type="button" class="btn-close" data-dismiss="modal" id="leave-hide" aria-label="Close">
        </button>
      </div>
      <div class="modal-body">
        Are you sure you want to leave the competition?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" id="leave-decline">No</button>
        <button type="button" class="btn btn-danger" id="leave-confirm">Yes</button>
      </div>
    </div>
  </div>
</div>

<div class="alert alert-success fade show" id="success-message" role="alert">
  <span id="success-message-text">Great! You have enrolled</span>
  <button type="button" class="btn-close" id="close-success" aria-label="Close"></button>
</div>

<div class="alert alert-danger fade show" id="error-message" role="alert">
 <span id="error-message-text">Sorry! There is a problem, please try again</span>
  <button type="button" class="btn-close" id="close-error" aria-label="Close"></button>
</div>

{% endblock %}

{% block scripts %}
{% include 'scripts/comp-js.html' %}
{% endblock %}